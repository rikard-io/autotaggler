{"version":3,"sources":["webpack:///./src/assets/logo.png","webpack:///./src/App.vue?229a","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/Start.vue?ecf5","webpack:///./src/components/Start.vue","webpack:///src/components/Start.vue","webpack:///./src/eventBus.js","webpack:///src/components/InputTag.vue","webpack:///./src/components/InputTag.vue?9c5c","webpack:///./src/components/InputTag.vue","webpack:///src/components/AddTags.vue","webpack:///./src/components/AddTags.vue?76df","webpack:///./src/components/AddTags.vue","webpack:///src/components/Tag.vue","webpack:///./src/components/Tag.vue?9871","webpack:///./src/components/Tag.vue","webpack:///./src/FileContainer.js","webpack:///./src/dspUtil.js","webpack:///./src/draw_dsp.js","webpack:///./src/ai.js","webpack:///src/components/Tagging.vue","webpack:///./src/components/Tagging.vue?f0c5","webpack:///./src/components/Tagging.vue","webpack:///src/components/AIPlayground.vue","webpack:///./src/components/AIPlayground.vue?f800","webpack:///./src/components/AIPlayground.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","src","_v","staticRenderFns","src_App","normalizeComponent","ssrContext","components_Start","staticClass","on","dragover","cancelEvent","dragenter","drop","dropHandler","src_components_Start","Start_normalizeComponent","preventDefault","_this","getAsFile","file","i","files","then","eventBus","vue_esm","InputTag","tag","deselect","key","components_InputTag","_vm","class","selected","tabindex","keyup","mapKey","blur","click","select","ref","_s","remove","keyMap","_e","AddTags","InputTag_normalizeComponent","tags","onlyAllowOne","v","value","components_AddTags","type","placeholder","$event","_k","keyCode","addTag","_l","directives","name","rawName","expression","domProps","checked","Array","isArray","_i","change","$$a","$$el","target","$$c","$$i","concat","slice","to","disabled","length","src_components_AddTags","AddTags_normalizeComponent","Tag","val","components_Tag","src_components_Tag","Tag_normalizeComponent","_files","src_FileContainer","install","Vue","options","prototype","$fileContainer","hash","f","lastModified","size","add","get","getFiles","dspUtil","findAbsMax","arr","max","idx","l","Math","abs","windowArrays","a1","a2","len","hlen","floor","r","v1","v2","normalize","gain","map","resample","targetLen","downSample","updsample","ratio","downsample","ceil","Number","MIN_VALUE","buf","Float32Array","bin","len1","avg","len2","lerp","a","b","t","stepLen","jf","j1","j2","min","draw_dsp","drawLabel","canvas","text","color","ctx","getContext","fillStyle","fillText","drawFFT","data","context","windowSize","yFac","height","y","analyze_dsp","real","mag","sqrt","imag","fillRect","width","drawSpectrum","spectrum","xW","x","c2","drawPeaks","d","peaks","cw","h","s","drawSilences","silences","strokeStyle","beginPath","rect","startSamples","endSamples","stroke","drawEnvelope","envelope","cutout","w","compositCurrent","globalCompositeOperation","moveTo","lineTo","drawBuffer","mod","k","amp","audioContext","window","AudioContext","webkitAudioContext","arguments","undefined","document","createElement","getImageData","ai","setup","numClasses","topK","knn","knn_image_classifier","load","audioFileToFFT","audioFile","promise_default","res","rej","fileReader","FileReader","arrayBuffer","onloadend","result","readAsArrayBuffer","decodeAudioData","buffer","chunkSize","chanData","getChannelData","numChunks","chunks","chunkMag","dist_fft","j","fft","FFT","__magnitude","__amp","push","magnitude","Error","toFFT","process","classIndex","imageData","image","dist","addImage","predict","_this2","predictClass","dispose","Tagging","play","predicted","next","progress","fileId","path","fileObj","prev","stopPropagation","_this3","json","dataStr","fileName","components_Tagging","isSelected","fileTags","indexOf","removeTag","controls","fileSrc","autotag","parseInt","totFileCount","downloadJSON","src_components_Tagging","Tagging_normalizeComponent","AIPlayground","components_AIPlayground","src_components_AIPlayground","AIPlayground_normalizeComponent","use","vue_router_esm","router","routes","component","props","vuex_esm","mutations","addFiles","state","hashedFiles","forEach","splice","addFileTag","payload","fileEntry","set","removeFileTag","removeAllFileTags","mapKeyToTag","mapping","keyboardTagMap","removeKeyToTagMapping","updateOnlyAllowOne","toggle","actions","_ref","commit","_ref2","_ref3","_ref4","getters","keymapForTag","_ref5","_ref6","_ref7","keys_default","find","tagsForFile","store","Store","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.8cd03adc7a5ce5dfb680.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/logo.51ad204.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.png\n// module id = 7Otq\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('img',{attrs:{\"id\":\"logo\",\"src\":require(\"./assets/logo.png\")}}),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-459435d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-459435d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-459435d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <img id=\"logo\" src=\"./assets/logo.png\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n};\n</script>\n\n<style type=\"scss\">\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n.tag{\n  background: black;\n  color:white;\n  padding: 0.2rem 0.3rem;\n  border-radius: 0.2rem;\n  margin: 0.2rem;\n  display: inline-block;\n\n}\n.selected {\n  border: 2px solid #e764ed;\n  box-shadow: 3px 3px 0px 1px rgba(0,217,232,0.67);\n}\n\nbutton.huge-ass{\n  padding: 0.5rem 1rem;\n  margin: 1rem;\n  border-radius: 0.3rem;\n}\n\n#logo{\n  width:100px;\n  position: fixed;\n  top:0;\n  left:0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h2',[_vm._v(\"- Drag some audio files to the dropzone ...\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"drop_zone\"},on:{\"dragover\":_vm.cancelEvent,\"dragenter\":_vm.cancelEvent,\"drop\":_vm.dropHandler}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a357f5e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Start.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a357f5e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Start.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Start.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Start.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a357f5e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Start.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a357f5e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Start.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h2>- Drag some audio files to the dropzone ...</h2>\n    <div id=\"drop_zone\" v-on:dragover=\"cancelEvent\" v-on:dragenter=\"cancelEvent\" v-on:drop=\"dropHandler\">\n\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Start',\n\n  methods: {\n    cancelEvent(e) {\n      e.preventDefault();\n    },\n    dropHandler(e) {\n      e.preventDefault();\n\n      const files = [];\n      if (e.dataTransfer.items) {\n        // Use DataTransferItemList interface to access the file(s)\n        for (var i = 0; i < e.dataTransfer.items.length; i++) {\n          // If dropped items aren't files, reject them\n          if (e.dataTransfer.items[i].kind === 'file') {\n            const file = e.dataTransfer.items[i].getAsFile();\n            files.push(file);\n          }\n        }\n      } else {\n        // Use DataTransfer interface to access the file(s)\n        for (var i = 0; i < e.dataTransfer.files.length; i++) {\n          files.push(e.dataTransfer.files[i]);\n        }\n      }\n\n      this.$store.dispatch({\n        type: 'addFiles',\n        files,\n      }).then(() => {\n        this.$router.push({ path: 'addTags' });\n      });\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n  h1, h2 {\n    font-weight: normal;\n  }\n  ul {\n    list-style-type: none;\n    padding: 0;\n    li {\n      display: inline-block;\n      margin: 0 10px;\n    }\n  }\n\n  #drop_zone {\n    border: 1px dotted #5AF;\n    width:  200px;\n    height: 100px;\n    width: 100%;\n    min-height: 400px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Start.vue","import Vue from 'vue';\n\nexport default new Vue();\n\n\n\n// WEBPACK FOOTER //\n// ./src/eventBus.js","<template>\n  <div tabindex=\"0\" class=\"tag\" @keyup=\"mapKey\" v-bind:class=\"{selected: selected}\" @blur=\"deselect\" @click=\"select\">\n    <span ref=\"tagName\">{{tag}}</span>\n    <button @click=\"remove\">[💥]</button>\n    <span v-if=\"keyMap && keyMap!=='undefined'\" class=\"keymap-lbl\">[{{keyMap}}]</span>\n  </div>\n</template>\n\n<script>\n\nimport eventBus from '../eventBus';\n\nexport default {\n  name: 'Tag',\n  props: ['tag'],\n  data() {\n    return {\n      selected: false,\n    };\n  },\n  computed: {\n    keyMap() {\n      return this.$store.getters.keymapForTag(this.tag);\n    },\n  },\n  mounded() {\n    eventBus.$on('TAG::SELECT_TAG', this.deselect);\n  },\n  destroyed() {\n    eventBus.$off('TAG::SELECT_TAG', this.deselect);\n  },\n  methods: {\n    mapKey(e) {\n      const key = e.key;\n      this.$store.dispatch({ type: 'mapKeyToTag', tag: this.tag, key });\n    },\n    deselect() {\n      this.selected = false;\n    },\n    select(e) {\n      eventBus.$emit('TAG::SELECT_TAG');\n      this.selected = true;\n    },\n    remove(e) {\n      this.$store.dispatch({ type: 'removeTag', tag: this.tag });\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n\nbutton{\n  padding: 0;\n  background: none;\n  border: none;\n  color: white;\n  height: 100%;\n}\n\n\n.keymap-lbl{\n  color: #ed64e7;\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/InputTag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tag\",class:{selected: _vm.selected},attrs:{\"tabindex\":\"0\"},on:{\"keyup\":_vm.mapKey,\"blur\":_vm.deselect,\"click\":_vm.select}},[_c('span',{ref:\"tagName\"},[_vm._v(_vm._s(_vm.tag))]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.remove}},[_vm._v(\"[💥]\")]),_vm._v(\" \"),(_vm.keyMap && _vm.keyMap!=='undefined')?_c('span',{staticClass:\"keymap-lbl\"},[_vm._v(\"[\"+_vm._s(_vm.keyMap)+\"]\")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2fdfe226\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/InputTag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2fdfe226\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InputTag.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputTag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./InputTag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2fdfe226\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./InputTag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2fdfe226\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/InputTag.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"addtags\">\n    <p> - 🔥 hOt tip! click select a tag and map to a keyboard button! 🏇🔥</p>\n    <h2>- Let's add some tags</h2>\n    <input ref=\"tagInput\" type=\"text\" placeholder=\"grandma\" @keyup.enter=\"addTag\"></input>\n    <div class=\"tags-container\">\n      <InputTag class=\"tag\" v-for=\"tag in tags\" :tag=\"tag\"></InputTag>\n    </div>\n    <label>\n      Limit selection to one:</br>\n      <input type=\"checkbox\" v-model=\"onlyAllowOne\"></input></br>\n      (and allow for the tag-bot 🤖 to do your work!)\n    </label>\n    <div>\n      <router-link to=\"/tagging/0\" tag=\"button\" :disabled=\"this.tags.length<2\" class=\"huge-ass\">Let's tag!</router-link>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport InputTag from './InputTag';\n\nexport default {\n  name: 'AddTags',\n  components: {\n    InputTag,\n  },\n  data() {\n    return {\n    };\n  },\n  computed: {\n    tags() {\n      return this.$store.getters.tags;\n    },\n    onlyAllowOne: {\n      get() {\n        return this.$store.getters.onlyAllowOne;\n      },\n      set(v) {\n        return this.$store.dispatch({ type: 'updateOnlyAllowOne', v });\n      },\n    },\n  },\n  methods: {\n    addTag(e) {\n      const tag = this.$refs.tagInput.value;\n      this.$refs.tagInput.value = '';\n      if (this.tags.indexOf(tag) === -1) {\n        this.$store.dispatch({\n          type: 'addTag',\n          tag,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n  h1, h2 {\n    font-weight: normal;\n  }\n  ul {\n    list-style-type: none;\n    padding: 0;\n    li {\n      display: inline-block;\n      margin: 0 10px;\n    }\n  }\n\n  .tags-container{\n    border: 3px dotted #EEE;\n    margin: 1rem 0;\n    padding: 1rem;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AddTags.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addtags\"},[_c('p',[_vm._v(\" - 🔥 hOt tip! click select a tag and map to a keyboard button! 🏇🔥\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"- Let's add some tags\")]),_vm._v(\" \"),_c('input',{ref:\"tagInput\",attrs:{\"type\":\"text\",\"placeholder\":\"grandma\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addTag($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"tags-container\"},_vm._l((_vm.tags),function(tag){return _c('InputTag',{staticClass:\"tag\",attrs:{\"tag\":tag}})})),_vm._v(\" \"),_c('label',[_vm._v(\"\\n    Limit selection to one:\"),_c('br'),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.onlyAllowOne),expression:\"onlyAllowOne\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.onlyAllowOne)?_vm._i(_vm.onlyAllowOne,null)>-1:(_vm.onlyAllowOne)},on:{\"change\":function($event){var $$a=_vm.onlyAllowOne,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.onlyAllowOne=$$a.concat([$$v]))}else{$$i>-1&&(_vm.onlyAllowOne=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.onlyAllowOne=$$c}}}}),_c('br'),_vm._v(\"\\n    (and allow for the tag-bot 🤖 to do your work!)\\n  \")]),_vm._v(\" \"),_c('div',[_c('router-link',{staticClass:\"huge-ass\",attrs:{\"to\":\"/tagging/0\",\"tag\":\"button\",\"disabled\":this.tags.length<2}},[_vm._v(\"Let's tag!\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6cb1242a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddTags.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6cb1242a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddTags.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTags.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTags.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6cb1242a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddTags.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6cb1242a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddTags.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"tag\" v-bind:class=\"{selected: selected}\" @click=\"select\">\n    <span>{{tag}}</span>\n    <span v-if=\"keyMap && keyMap!=='undefined'\" class=\"keymap-lbl\">[{{keyMap}}]</span>\n  </div>\n</template>\n\n<script>\n\nimport eventBus from '../eventBus';\n\nexport default {\n  name: 'Tag',\n  props: ['isSelected', 'tag'],\n  data() {\n    return {\n      selected: false,\n    };\n  },\n  computed: {\n    keyMap() {\n      return this.$store.getters.keymapForTag(this.tag);\n    },\n  },\n  mounted() {\n    document.addEventListener('keyup', this.keydown, false);\n  },\n  destroyed() {\n    document.removeEventListener('keyup', this.keydown, false);\n  },\n  watch: {\n    isSelected(val) {\n      this.selected = val;\n    },\n  },\n  methods: {\n    keydown(e) {\n      if (e.key === this.keyMap) {\n        this.select();\n      }\n    },\n    select(e) {\n      this.selected = !this.selected;\n      if (this.selected) {\n        this.$emit('select', this.tag);\n      } else {\n        this.$emit('deselect', this.tag);\n      }\n    },\n    remove(e) {\n      this.$store.dispatch({ type: 'removeTag', tag: this.tag });\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n\nbutton{\n  padding: 0;\n  background: none;\n  border: none;\n  color: white;\n  height: 100%;\n}\n\n\n.keymap-lbl{\n  color: #ed64e7;\n}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tag\",class:{selected: _vm.selected},on:{\"click\":_vm.select}},[_c('span',[_vm._v(_vm._s(_vm.tag))]),_vm._v(\" \"),(_vm.keyMap && _vm.keyMap!=='undefined')?_c('span',{staticClass:\"keymap-lbl\"},[_vm._v(\"[\"+_vm._s(_vm.keyMap)+\"]\")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ac8a342\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4ac8a342\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tag.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ac8a342\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4ac8a342\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tag.vue\n// module id = null\n// module chunks = ","const _files = {};\nconst FileContainer = {\n  install(Vue, options) {\n    Vue.prototype.$fileContainer = this;\n  },\n  hash(f) {\n    const hash = `${f.lastModified}-${f.size}-${f.name}`;\n    return hash;\n  },\n\n  add(file) {\n    const hash = this.hash(file);\n    _files[hash] = file;\n    return hash;\n  },\n\n  get(hash) {\n    return _files[hash];\n  },\n\n  getFiles() {\n    return _files;\n  },\n};\n\nexport default FileContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/FileContainer.js","export default {\n  findAbsMax(arr) {\n    let max = 0;\n    let idx = -1;\n    for (let i = 0, l = arr.length; i < l; i++) {\n      const val = Math.abs(arr[i]);\n      if (val > max) {\n        max = val;\n        idx = i;\n      }\n    }\n    return idx;\n  },\n\n  windowArrays(a1, a2) {\n    const len = a1.length;\n    const hlen = Math.floor(len * 0.5);\n    for (let i = 0; i < hlen; i++) {\n      const r = i / hlen;\n      const v1 = a1[hlen + i];\n      const v2 = a2[i];\n\n      a1[hlen + i] = v1 * (1 - r) + v2 * r;\n      a2[i] = v1 * (1 - r) + v2 * r;\n    }\n  },\n  normalize(arr) {\n    const max = this.findAbsMax(arr);\n    const gain = 1 - max;\n    return arr.map(v => v * gain);\n  },\n  resample(arr, targetLen) {\n    if (arr.length === targetLen) return arr;\n    if (arr.length > targetLen) return this.downSample(arr, targetLen);\n    if (arr.length < targetLen) return this.updsample(arr, targetLen);\n  },\n  downSample(arr, targetLen) {\n    const ratio = targetLen / arr.length;\n    // ratio = ratio || ( 1 / 100000 );\n\n    // Programmatically determine the number of samples-per-bin used for downsampling\n    const downsample = Math.ceil(arr.length * ratio /* we only want 100k bins, to keep things fast */);\n\n    // Track the maximum value we've encountered, so that we can normalize the downsampled data\n    let max = Number.MIN_VALUE;\n\n    // Create an output buffer to hold the downsampled audio data\n    const buf = new Float32Array(arr.length / downsample);\n\n    // Iterate through the bins in the output buffer to create the downsampled result\n    for (var bin = 0, len1 = buf.length; bin < len1; ++bin) {\n      // Aggregate all of the samples in all of the channels, which belong in this bucket\n      let avg = 0.0;\n\n\n      // Aggregate all of the samples that belongs in this bin\n      for (let idx = bin * downsample, len2 = idx + downsample; idx < len2; ++idx) {\n        avg += arr[idx];\n      }\n\n      // Find the overall average amplitude using the aggregated sum of amplitudes in the bin\n      buf[bin] = (avg / downsample);\n\n      // Update the maximum value seen in the downsampled-output buffer\n      max = Math.max(max, Math.abs(buf[bin]));\n    }\n\n    // Normalize the output buffer using the maximum value that we saw\n    for (bin = 0; bin < len1; ++bin) {\n      buf[bin] = buf[bin] / max;\n    }\n\n    return buf;\n  },\n  lerp(a, b, t) {\n    return a + (b - a) * t;\n  },\n  updsample(arr, targetLen) {\n    const buf = new Float32Array(targetLen);\n    const stepLen = arr.length / targetLen;\n    let jf = 0;\n    for (let i = 0; i < targetLen; i++) {\n      const j1 = Math.floor(jf);\n      const j2 = Math.min(arr.length, j1 + 1);\n      const t = jf - j1;\n      const v = this.lerp(arr[j1], arr[j2], t);\n      buf[i] = v;\n      jf += stepLen;\n    }\n    return buf;\n  },\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/dspUtil.js","/**\n* Small utility lib for drawing raw signal buffers to canvas\n* @author Rikard Lindström <rikardjh@gmail.com>\n*/\n\n\nexport default {\n  drawLabel(canvas, text, color) {\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = color || '#000';\n    ctx.fillText(text, 10, 10);\n  },\n\n  drawFFT(canvas, data) {\n    let context = canvas.getContext('2d'),\n      windowSize = data.length * 0.5,\n      w = data.length / windowSize;\n\n    const yFac = canvas.height / windowSize;\n\n    const maxIdx = analyze_dsp.findAbsMax(data.real);\n    const countour = false;\n    for (let y = 0; y < windowSize; y++) {\n      const mark = false;\n\n      const mag = Math.sqrt(data.real[y] * data.real[y] + data.imag[y] * data.imag[y]);\n\n      const cc = mag; // mark ? 0xFFFFFF : 0xFFFFFF * mag;\n      const r = (cc >> 16) & 255;\n      const g = (cc >> 8) & 255;\n      const b = (cc & 255);\n\n      const c2 = 255 * mag;\n\n      context.fillStyle = `rgba(${mag},${mag},${mag},1)`;\n      context.fillRect(0, canvas.height - y * yFac, canvas.width, yFac);\n    }\n  },\n\n  drawSpectrum(canvas, spectrum) {\n    let ctx = canvas.getContext('2d'),\n      windowSize = spectrum[0].length * 0.5;\n\n    ctx.fillStyle = '#000';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    const yFac = canvas.height / windowSize;\n    const xW = (canvas.width / spectrum.length);\n    for (let x = 0; x < spectrum.length; x++) {\n      for (let y = 0; y < windowSize; y++) {\n        const mag = spectrum[x][y];\n\n        const cc = mag * 10;\n\n        const r = (cc >> 16) & 255;\n        const g = (cc >> 8) & 255;\n        const b = (cc & 255);\n\n        const c2 = Math.min(255, Math.floor(mag));\n\n        ctx.fillStyle = `rgba(${c2},${c2},${c2},1)`;\n        ctx.fillRect(x * xW, y * yFac, xW * 2, yFac);\n      }\n    }\n  },\n\n  drawPeaks(canvas, d, peaks, color) {\n    const cw = canvas.width / d.length;\n    const ctx = canvas.getContext('2d');\n    const h = canvas.height;\n    const k = 0;\n\n    ctx.fillStyle = color || 'rgba(255,0,0,0.2)';\n\n    // ctx.beginPath();\n    for (let i = 0; i < peaks.length; i++) {\n      const s = peaks[i];\n      ctx.fillRect(s * cw, 0, 2, h);\n\n      // ctx.moveTo( s.startSamples* cw, 0);\n      // ctx.lineTo( s.startSamples* cw, h );\n      // ctx.moveTo( s.endSamples* cw, 0);\n      // ctx.lineTo( s.endSamples* cw, h );\n    }\n\n    // ctx.stroke();\n  },\n\n  drawSilences(canvas, d, silences) {\n    const cw = canvas.width / d.length;\n    const ctx = canvas.getContext('2d');\n    const h = canvas.height;\n    const k = 0;\n\n    ctx.strokeStyle = 'rgba(255,0,0,0.2)';\n\n    ctx.beginPath();\n    for (let i = 0; i < silences.length; i++) {\n      const s = silences[i];\n      ctx.rect(s.startSamples * cw, 0, s.endSamples * cw, h);\n    }\n\n    ctx.stroke();\n  },\n\n  drawEnvelope(canvas, envelope, len, color, cutout) {\n    const ctx = canvas.getContext('2d');\n    const h = canvas.height;\n    const w = canvas.width;\n\n\n    ctx.strokeStyle = color || '#AAA';\n    cutout = false;\n    const compositCurrent = ctx.globalCompositeOperation;\n    if (cutout) {\n      ctx.globalCompositeOperation = 'destination-out';\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(0, h);\n\n    for (let i = 0; i < envelope.length; i++) {\n      const x = (envelope[i].i / len) * w;\n      const y = h - envelope[i].value * h;\n      ctx.lineTo(x, y);\n    }\n    if (cutout) {\n      ctx.lineTo(canvas.width, canvas.height);\n      ctx.lineTo(canvas.width, 0);\n      ctx.lineTo(0, 0);\n      ctx.fill();\n    } else {\n      ctx.stroke();\n    }\n    ctx.globalCompositeOperation = compositCurrent;\n  },\n\n  drawBuffer(canvas, d, color, mod) {\n    const cw = Math.floor(d.length / canvas.width);\n    const ctx = canvas.getContext('2d');\n    const h = canvas.height;\n    let k = 0;\n\n    ctx.strokeStyle = color || '#AAA';\n\n\n    for (let i = 0; i < d.length; i += cw) {\n      const amp = analyze_dsp.avg(d, i, i + cw);\n      ctx.beginPath();\n      ctx.moveTo(k, h);\n      if (!mod) {\n        ctx.lineTo(k, (1 - amp) * h);\n      } else {\n        ctx.lineTo(k, 0);\n        ctx.strokeStyle = `rgba(0,0,0,${amp})`;\n      }\n      ctx.stroke();\n      k++;\n    }\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw_dsp.js","import { KNNImageClassifier } from 'deeplearn-knn-image-classifier';\nimport * as dl from 'deeplearn';\nimport { ComplexArray } from 'jsfft';\nimport dspUtil from './dspUtil';\nimport drawDsp from './draw_dsp';\n\nconst ft = require('fourier-transform');\n\nconst audioContext = new (window.AudioContext || window.webkitAudioContext)();\n\nfunction drawFFT(data, size = 227) {\n  const canvas = document.createElement('canvas');\n  const context = canvas.getContext('2d');\n\n  canvas.width = size;\n  canvas.height = size;\n\n  drawDsp.drawSpectrum(canvas, data);\n  // document.body.appendChild(canvas);\n  return context.getImageData(0, 0, size, size);\n}\n\nfunction createPixel(ctx, r, g, b, a) {\n  const pixel = ctx.createImageData(1, 1); // only do this once per page\n  const d = pixel.data; // only do this once per page\n  d[0] = r;\n  d[1] = g;\n  d[2] = b;\n  d[3] = a;\n  return pixel;\n}\n\nfunction toFFT(buffer, chunkSize, len) {\n  if (buffer) {\n    let chanData = buffer.getChannelData(0);\n\n    // chanData = dspUtil.resample(chanData, len);\n    chanData = dspUtil.normalize(chanData);\n    const numChunks = Math.floor(chanData.length / chunkSize);\n    const chunks = [];\n\n    // var chanDataWindowed = [];\n    // var windowSize = chunkSize / 2;\n\n    // @TODO, windowing?\n\n    for (let i = 0; i < numChunks; i++) {\n      let chunkMag = 0;\n\n      // const chunkData = new Float32Array(chunkSize);\n      // for (let j = 0; j < chunkSize; j++) {\n      //   const r = i * chunkSize + j;\n      //   if (r < chanData.length) {\n      //     chunkData[j] = chanData[r];\n      //   }\n      // }\n      // const fft = ft(chunkData);// new ComplexArray(chunkSize);\n      const a = new ComplexArray(chunkSize);\n      for (let j = 0; j < chunkSize; j++) {\n        const r = i * chunkSize + j;\n        if (r < chanData.length) {\n          a.real[j] = chanData[r];\n          chunkMag += Math.abs(chanData[r]);\n        }\n      }\n\n      const fft = a.FFT();\n      fft.__magnitude = chunkMag;\n      fft.__amp = chunkMag / chunkSize;\n      chunks.push(fft.magnitude());\n    }\n\n\n    return chunks;\n  }\n  throw new Error('Clip has no buffer!');\n}\n\n\nexport default {\n\n  setup(numClasses, topK = 10) {\n    this.knn = new KNNImageClassifier(numClasses, topK);\n    return this.knn.load(); // promise\n  },\n\n  audioFileToFFT(audioFile) {\n    return new Promise(((res, rej) => {\n      const fileReader = new FileReader();\n      let arrayBuffer;\n\n      fileReader.onloadend = () => {\n        arrayBuffer = fileReader.result;\n        res(arrayBuffer);\n      };\n      fileReader.readAsArrayBuffer(audioFile);\n    })).then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer).then((buffer) => {\n      const fft = toFFT(buffer, 256, 44100);\n      return fft;\n    }));\n  },\n\n  process(audioFile, classIndex) {\n    return this.audioFileToFFT(audioFile).then((fft) => {\n      const imageData = drawFFT(fft);\n      const image = dl.fromPixels(imageData);\n\n      this.knn.addImage(image, classIndex);\n    });\n  },\n\n  predict(audioFile) {\n    return this.audioFileToFFT(audioFile).then((fft) => {\n      const image = dl.fromPixels(drawFFT(fft));\n      return this.knn.predictClass(image).then((res) => {\n        image.dispose();\n        return res.classIndex;\n      });\n    });\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/ai.js","<template>\n  <div class=\"addtags\">\n    <h2>- Alright! Let's do it</h2>\n    <div class=\"tags-container\">\n      <Tag @select=\"addTag\" @deselect=\"removeTag\" v-bind:class=\"{predicted:predicted==tag}\" v-for=\"tag in tags\" :isSelected=\"fileTags.indexOf(tag) !== -1\" :tag=\"tag\"></Tag>\n    </div>\n    <div><audio ref=\"audio\" controls :src=\"fileSrc\"></audio><p>[space to re-play]</p></div>\n    <div v-if=\"onlyAllowOne\"><button @click=\"autotag\" class=\"huge-ass\" :disabled=\"this.fileId < 3\">Let the 🤖 do the work!</button></div>\n\n    <button v-if=\"progress>0\" class=\"huge-ass\" @click=\"prev\">Prev! [left-arrow]</button>\n    <button v-if=\"progress<1\" class=\"huge-ass\" @click=\"next\">Next! [enter|right-arrow]</button>\n    <div v-if=\"progress>=1 && fileTags.length\">🎇🎆🎇🎇🎆🎇🎇🎆🎇</br>You're done!</br>🎇🎆🎇🎇🎆🎇🎇🎆🎇</div>\n    <div class=\"progress\">{{parseInt(fileId)+1}}/{{totFileCount}}</div>\n    <p><button class=\"huge-ass\" @click=\"downloadJSON\">Gimme that JSOOOON!</button></p>\n  </div>\n\n</template>\n\n<script>\nimport Tag from './Tag';\nimport FileContainer from '@/FileContainer';\n\nimport ai from '@/ai';\n\nexport default {\n  name: 'Tagging',\n  components: {\n    Tag,\n  },\n  props: ['fileId'],\n  watch: {\n    fileId(val) {\n      setTimeout(() => {\n        this.play();\n      }, 100);\n      this.predicted = null;\n      ai.predict(this.fileBlob).then((res) => {\n        this.predicted = this.tags[res];\n        if (this.doAutoTag) {\n          this.addTag(this.predicted);\n          this.next();\n        }\n      });\n    },\n  },\n  mounted() {\n    ai.setup(this.tags.length);\n\n    document.addEventListener('keyup', this.keydown, false);\n    setTimeout(() => {\n      this.play();\n    }, 100);\n  },\n  destroyed() {\n    document.removeEventListener('keyup', this.keydown, false);\n  },\n  data() {\n    return {\n      predicted: null,\n      doAutoTag: false,\n    };\n  },\n  computed: {\n    onlyAllowOne() {\n      return this.$store.getters.onlyAllowOne;\n    },\n    hasTag() {\n      this.fileTags.length > 0;\n    },\n    progress() {\n      const progress = parseInt(this.fileId) / (this.totFileCount - 1);\n\n\n      return progress;\n    },\n    totFileCount() {\n      return this.$store.getters.files.length;\n    },\n    tags() {\n      return this.$store.getters.tags;\n    },\n    fileTags() {\n      return this.$store.getters.file(this.fileId).tags;\n    },\n    fileBlob() {\n      const file = this.$store.getters.file(this.fileId);\n      const fileObj = FileContainer.get(file.hash);\n      return fileObj;\n    },\n    fileSrc() {\n      const file = this.$store.getters.file(this.fileId);\n\n      if (!file) {\n        return '';\n      }\n      // if we're in electorn, file.path should be present\n      if (file.path) {\n        return file.path;\n      }\n\n      const fileObj = FileContainer.get(file.hash);\n      return window.URL.createObjectURL(fileObj);\n    },\n  },\n  methods: {\n    autotag() {\n      if (confirm(\"🤖 Me? Are you sure? I'm not your Tesla grade AI bot! I will probably make a lot of mistakes! Only proceed if no humans will get harmed from these tags.\")) {\n        this.doAutoTag = true;\n        if (this.predicted) {\n          this.addTag(this.predicted);\n        }\n        this.next();\n      }\n    },\n    keydown(e) {\n      if (e.keyCode === 13 || e.keyCode === 39) {\n        this.next();\n      } else if (e.keyCode === 37) {\n        this.prev();\n      } else if (e.keyCode === 32) {\n        this.play();\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    },\n    play() {\n      this.$refs.audio.play();\n    },\n    next() {\n      if (this.tags.indexOf(this.fileTags[0]) > -1) {\n        ai.process(this.fileBlob, this.tags.indexOf(this.fileTags[0])).then(() => {\n          if (this.progress < 1) {\n            this.$router.push({ path: `/tagging/${parseInt(this.fileId) + 1}` });\n          }\n        });\n      } else if (this.progress < 1) {\n        this.$router.push({ path: `/tagging/${parseInt(this.fileId) + 1}` });\n      }\n    },\n    prev() {\n      if (parseInt(this.fileId) > 0) {\n        this.$router.push({ path: `/tagging/${parseInt(this.fileId) - 1}` });\n      }\n    },\n    downloadJSON() {\n      const fileName = prompt('filename?', 'mytags.json');\n      const dataStr = `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(this.$store.getters.json))}`;\n      const dlAnchorElem = document.createElement('a');\n      dlAnchorElem.setAttribute('href', dataStr);\n      dlAnchorElem.setAttribute('download', fileName);\n      dlAnchorElem.click();\n    },\n    removeTag(tag) {\n      this.$store.dispatch({ type: 'removeFileTag', tag, fileId: this.fileId });\n    },\n    addTag(tag) {\n      this.$store.dispatch({ type: 'addFileTag', tag, fileId: this.fileId });\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n  h1, h2 {\n    font-weight: normal;\n  }\n  ul {\n    list-style-type: none;\n    padding: 0;\n    li {\n      display: inline-block;\n      margin: 0 10px;\n    }\n  }\n  .tag {\n    position: relative;\n  }\n  .tags-container{\n    border: 3px dotted #EEE;\n    margin: 1rem 0;\n    padding: 1rem;\n  }\n  .tag.predicted:after{\n    content: \"🤖\";\n    position: absolute;\n    top:-1.3rem;\n    left:50%;\n    transform: translate(-50%,0);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Tagging.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addtags\"},[_c('h2',[_vm._v(\"- Alright! Let's do it\")]),_vm._v(\" \"),_c('div',{staticClass:\"tags-container\"},_vm._l((_vm.tags),function(tag){return _c('Tag',{class:{predicted:_vm.predicted==tag},attrs:{\"isSelected\":_vm.fileTags.indexOf(tag) !== -1,\"tag\":tag},on:{\"select\":_vm.addTag,\"deselect\":_vm.removeTag}})})),_vm._v(\" \"),_c('div',[_c('audio',{ref:\"audio\",attrs:{\"controls\":\"\",\"src\":_vm.fileSrc}}),_c('p',[_vm._v(\"[space to re-play]\")])]),_vm._v(\" \"),(_vm.onlyAllowOne)?_c('div',[_c('button',{staticClass:\"huge-ass\",attrs:{\"disabled\":this.fileId < 3},on:{\"click\":_vm.autotag}},[_vm._v(\"Let the 🤖 do the work!\")])]):_vm._e(),_vm._v(\" \"),(_vm.progress>0)?_c('button',{staticClass:\"huge-ass\",on:{\"click\":_vm.prev}},[_vm._v(\"Prev! [left-arrow]\")]):_vm._e(),_vm._v(\" \"),(_vm.progress<1)?_c('button',{staticClass:\"huge-ass\",on:{\"click\":_vm.next}},[_vm._v(\"Next! [enter|right-arrow]\")]):_vm._e(),_vm._v(\" \"),(_vm.progress>=1 && _vm.fileTags.length)?_c('div',[_vm._v(\"🎇🎆🎇🎇🎆🎇🎇🎆🎇\"),_c('br'),_vm._v(\"You're done!\"),_c('br'),_vm._v(\"🎇🎆🎇🎇🎆🎇🎇🎆🎇\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"progress\"},[_vm._v(_vm._s(parseInt(_vm.fileId)+1)+\"/\"+_vm._s(_vm.totFileCount))]),_vm._v(\" \"),_c('p',[_c('button',{staticClass:\"huge-ass\",on:{\"click\":_vm.downloadJSON}},[_vm._v(\"Gimme that JSOOOON!\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4181a409\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Tagging.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4181a409\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tagging.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tagging.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tagging.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4181a409\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tagging.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4181a409\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Tagging.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hello\">\n    <h2>- Drag some audio files to the dropzone ...</h2>\n    <div id=\"drop_zone\" v-on:dragover=\"cancelEvent\" v-on:dragenter=\"cancelEvent\" v-on:drop=\"dropHandler\">\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport ai from '@/ai';\n\nexport default {\n  name: 'Start',\n  mounted() {\n    ai.setup(2);\n  },\n  methods: {\n    cancelEvent(e) {\n      e.preventDefault();\n    },\n    dropHandler(e) {\n      e.preventDefault();\n\n      const files = [];\n      if (e.dataTransfer.items) {\n        // Use DataTransferItemList interface to access the file(s)\n        for (var i = 0; i < e.dataTransfer.items.length; i++) {\n          // If dropped items aren't files, reject them\n          if (e.dataTransfer.items[i].kind === 'file') {\n            const file = e.dataTransfer.items[i].getAsFile();\n            files.push(file);\n          }\n        }\n      } else {\n        // Use DataTransfer interface to access the file(s)\n        for (var i = 0; i < e.dataTransfer.files.length; i++) {\n          files.push(e.dataTransfer.files[i]);\n        }\n      }\n\n      files.forEach(f => ai.process(f, 1));\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped type=\"scss\">\n  h1, h2 {\n    font-weight: normal;\n  }\n  ul {\n    list-style-type: none;\n    padding: 0;\n    li {\n      display: inline-block;\n      margin: 0 10px;\n    }\n  }\n\n  #drop_zone {\n    border: 1px dotted #5AF;\n    width:  200px;\n    height: 100px;\n    width: 100%;\n    min-height: 400px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AIPlayground.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('h2',[_vm._v(\"- Drag some audio files to the dropzone ...\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"drop_zone\"},on:{\"dragover\":_vm.cancelEvent,\"dragenter\":_vm.cancelEvent,\"drop\":_vm.dropHandler}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49ccd427\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AIPlayground.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49ccd427\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AIPlayground.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIPlayground.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AIPlayground.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49ccd427\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AIPlayground.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49ccd427\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AIPlayground.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Start from '@/components/Start';\nimport AddTags from '@/components/AddTags';\nimport Tagging from '@/components/Tagging';\nimport AIPlayground from '@/components/AIPlayground';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Start',\n      component: Start,\n    },\n    {\n      path: '/addTags',\n      name: 'AddTags',\n      component: AddTags,\n    },\n    {\n      path: '/tagging/:fileId',\n      name: 'Tagging',\n      props: true,\n      component: Tagging,\n    },\n    {\n      path: '/ai',\n      name: 'AIPlayground',\n      component: AIPlayground,\n    },\n  ],\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport FileContainer from '../FileContainer';\n\nVue.use(Vuex);\n\n// root state object.\n// each Vuex instance is just a single state tree.\nconst state = {\n  files: [],\n  tags: [],\n  onlyAllowOne: true,\n  keyboardTagMap: {},\n};\n\n// mutations are operations that actually mutates the state.\n// each mutation handler gets the entire state tree as the\n// first argument, followed by additional payload arguments.\n// mutations must be synchronous and can be recorded by plugins\n// for debugging purposes.\nconst mutations = {\n  addFiles(state, hashedFiles) {\n    hashedFiles.forEach(f => state.files.push({\n      hash: f.hash,\n      name: f.name,\n      path: f.path,\n      tags: [],\n    }));\n  },\n  addTag(state, tag) {\n    state.tags.push(tag);\n  },\n  removeTag(state, tag) {\n    const idx = state.tags.indexOf(tag);\n    if (idx > -1) {\n      state.tags.splice(idx, 1);\n    }\n  },\n  addFileTag(state, payload) {\n    const fileEntry = state.files[payload.fileId];\n    const tags = fileEntry.tags;\n    tags.push(payload.tag);\n    Vue.set(state.files, payload.fileId, fileEntry);\n  },\n  removeFileTag(state, payload) {\n    const idx = state.files[payload.fileId].tags.indexOf(payload.tag);\n    if (idx > -1) {\n      state.files[payload.fileId].tags.splice(idx, 1);\n    }\n  },\n  removeAllFileTags(state, fileId) {\n    Vue.set(state.files[fileId], 'tags', []);\n  },\n  mapKeyToTag(state, mapping) {\n    Vue.set(state.keyboardTagMap, mapping.key, mapping.tag);\n  },\n  removeKeyToTagMapping(state, key) {\n    Vue.set(state.keyboardTagMap, key, null);\n  },\n  updateOnlyAllowOne(state, toggle) {\n    state.onlyAllowOne = toggle;\n  },\n};\n\n// actions are functions that cause side effects and can involve\n// asynchronous operations.\nconst actions = {\n  addFiles: ({ commit }, data) => {\n    commit('addFiles', data.files.map((f) => {\n      const hash = FileContainer.add(f);\n      return {\n        hash,\n        name: f.name,\n        path: f.path,\n      };\n    }));\n  },\n  addTag: ({ commit }, payload) => {\n    commit('addTag', payload.tag);\n  },\n  removeTag: ({ commit }, payload) => {\n    commit('removeTag', payload.tag);\n  },\n  mapKeyToTag: ({ commit, state }, payload) => {\n    commit('removeKeyToTagMapping', getters.keymapForTag(state)(payload.tag));\n    if ('abcdefghijklmnopqrstuvwxyzåäöABCDEFGHIJKLMNOPQRSTUVWXYZÅÄÖ1234567890'.indexOf(payload.key) !== -1) {\n      commit('mapKeyToTag', {\n        key: payload.key,\n        tag: payload.tag,\n      });\n    }\n  },\n  removeFileTag: ({ commit, state }, payload) => {\n    const tags = getters.file(state)(payload.fileId).tags;\n    if (tags.indexOf(payload.tag) > -1) {\n      commit('removeFileTag', payload);\n    }\n  },\n  addFileTag: ({ commit, state }, payload) => {\n    if (state.onlyAllowOne) {\n      commit('removeAllFileTags', payload.fileId);\n    }\n    const tags = getters.file(state)(payload.fileId).tags;\n    if (tags.indexOf(payload.tag) === -1) {\n      commit('addFileTag', payload);\n    }\n  },\n  updateOnlyAllowOne: ({ commit, state }, payload) => {\n    commit('updateOnlyAllowOne', payload.v);\n  },\n\n};\n\n// getters are functions\nconst getters = {\n  tags: state => state.tags,\n  keymapForTag: state => (tag) => {\n    const key = Object.keys(state.keyboardTagMap).find(k => state.keyboardTagMap[k] === tag);\n    return key;\n  },\n  file: state => fileId => state.files[fileId],\n  files: state => state.files,\n  tagsForFile: state => fileId => state.files[fileId].tags,\n  json: (state) => {\n    const json = {};\n    state.files.forEach((f) => {\n      json[f.name] = f.tags.map(f => f);\n      if (f.path) {\n        json[f.name].path = f.path;\n      }\n    });\n    return json;\n  },\n  onlyAllowOne: state => state.onlyAllowOne,\n};\n\n// A Vuex instance is created by combining the state, mutations, actions,\n// and getters.\nexport default new Vuex.Store({\n  state,\n  getters,\n  actions,\n  mutations,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport store from './store';\nimport FileContainer from './FileContainer';\n\nVue.config.productionTip = false;\nVue.use(FileContainer);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}